{"version":3,"sources":["../../src/pages/detail/detail.ts","../../node_modules/@angular/core/@angular lazy","../../src lazy","../../src/pages/tabs/tabs.ts","../../src/pages/enter_code/enter_code.ts","../../src/pages/contact/contact.ts","../../src/pages/qrcode/qrcode.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { Component, NgZone } from '@angular/core';\nimport { NavParams } from 'ionic-angular';\nimport { Http, Headers, RequestOptions } from '@angular/http';\nimport 'rxjs/Rx';\n\n/**\n * Generated class for the DetailPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@Component({\n  selector: 'page-detail',\n  templateUrl: 'detail.html',\n})\nexport class DetailPage {\n  seri = null;\n  latitude = null;\n  longitude = null;\n  book = null;\n  message = null;\n\n  constructor(public navParams: NavParams,\n      public zone: NgZone,\n      public http: Http) {\n    this.seri = navParams.get('seri');\n    this.latitude = navParams.get('latitude');\n    this.longitude = navParams.get('longitude');\n    var headers = new Headers();\n    headers.append(\"Content-Type\", 'application/json');\n    var options = new RequestOptions({ headers: headers });\n\n    this.http.post(\"https://the.sachmem.vn/api/v1/user_keys\",\n      {\n        key: this.seri,\n        latitude: this.latitude,\n        longitude: this.longitude\n      }, options)\n      .map(resp => resp.json())\n      .subscribe((resp) => {\n        if (resp.code == \"1\") {\n          this.zone.run(() => {\n            this.book = resp.book;\n            this.message = resp.message;\n          });\n\n        } else {\n          this.zone.run(() => {\n            this.message = resp.message;\n          });\n        }\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/detail/detail.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 141;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/@angular lazy\n// module id = 141\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 184;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 184\n// module chunks = 0","import { Component } from '@angular/core';\n\nimport { EnterCodePage } from '../enter_code/enter_code';\nimport { ContactPage } from '../contact/contact';\nimport { QRCodePage } from '../qrcode/qrcode';\n\n@Component({\n  templateUrl: 'tabs.html'\n})\nexport class TabsPage {\n\n  tabQRCode = QRCodePage;\n  tabEnterCode = EnterCodePage;\n  tab3Root = ContactPage;\n\n  constructor() {\n\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tabs/tabs.ts","import { Component } from '@angular/core';\r\nimport { App } from 'ionic-angular';\r\nimport { Geolocation } from '@ionic-native/geolocation';\r\nimport { Diagnostic } from '@ionic-native/diagnostic';\r\nimport { AlertController } from 'ionic-angular';\r\n\r\nimport { DetailPage } from '../detail/detail';\r\n\r\n@Component({\r\n  selector: 'page-enter-code',\r\n  templateUrl: 'enter_code.html'\r\n})\r\nexport class EnterCodePage {\r\n  seri = null;\r\n  latitude = null;\r\n  longitude = null;\r\n\r\n  constructor(public app: App,\r\n     private geolocation: Geolocation,\r\n     public diagnostic: Diagnostic,\r\n     public alertCtrl: AlertController) {\r\n  }\r\n\r\n  submitCode() {\r\n    var options = {\r\n      enableHighAccuracy: true\r\n    };\r\n    // let successCallback = (isAvailable) => { console.log('Is available? ' + isAvailable); };\r\n    // let errorCallback = (e) => console.error(e);\r\n    // this.diagnostic.isGpsLocationEnabled().then(successCallback, errorCallback);\r\n    this.diagnostic.getLocationMode()\r\n      .then((state) => {\r\n        if (state == this.diagnostic.locationMode.LOCATION_OFF) {\r\n          let confirm = this.alertCtrl.create({\r\n            title: '<b>Chia sẻ Vị trí</b>',\r\n            message: 'Vị trí (Location) trên điện thoại của bạn chưa được bật/chia sẻ. Hãy vào Cài đặt (Settings) để bật vị trí và chia sẻ thông tin (cấp quyền) vị trí cho ứng dụng này.',\r\n            buttons: [\r\n\r\n              {\r\n                text: 'Vào Cài đặt (Settings)',\r\n                handler: () => {\r\n                  this.diagnostic.switchToLocationSettings();\r\n\r\n                }\r\n              }\r\n            ]\r\n          });\r\n          confirm.present();\r\n        }\r\n      }).catch(e => console.error(e));\r\n    this.geolocation.getCurrentPosition(options).then((resp) => {\r\n      this.latitude = resp.coords.latitude;\r\n      this.longitude = resp.coords.longitude;\r\n      this.app.getRootNav().push(DetailPage, {seri: this.seri, latitude: this.latitude, longitude: this.longitude});\r\n    });\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/enter_code/enter_code.ts","import { Component } from '@angular/core';\nimport { NavController } from 'ionic-angular';\n\n@Component({\n  selector: 'page-contact',\n  templateUrl: 'contact.html'\n})\nexport class ContactPage {\n\n  constructor(public navCtrl: NavController) {\n\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/contact/contact.ts","import { Component } from '@angular/core';\r\nimport { App } from 'ionic-angular';\r\nimport { QRScanner, QRScannerStatus } from '@ionic-native/qr-scanner';\r\nimport { Geolocation } from '@ionic-native/geolocation';\r\nimport { Diagnostic } from '@ionic-native/diagnostic';\r\nimport { AlertController } from 'ionic-angular';\r\n\r\nimport { DetailPage } from '../detail/detail';\r\n\r\n@Component({\r\n  selector: 'page-qrcode',\r\n  templateUrl: 'qrcode.html'\r\n})\r\nexport class QRCodePage {\r\n  qrData = null;\r\n  latitude = null;\r\n  longitude = null;\r\n  started = false;\r\n\r\n  constructor(public app: App,\r\n    private qrScanner: QRScanner,\r\n    private geolocation: Geolocation,\r\n    public diagnostic: Diagnostic,\r\n    public alertCtrl: AlertController) {\r\n    //this.scanCode();\r\n  }\r\n\r\n  hideCamera() {\r\n    this.qrScanner.hide();\r\n  }\r\n\r\n  showCamera() {\r\n    this.qrScanner.show();\r\n  }\r\n\r\n  scanCode() {\r\n    this.started = true;\r\n    this.qrScanner.show();\r\n    this.qrScanner.prepare()\r\n    .then((status: QRScannerStatus) => {\r\n      if (status.authorized) {\r\n         // camera permission was granted\r\n\r\n\r\n         // start scanning\r\n        let scanSub = this.qrScanner.scan().subscribe((text: string) => {\r\n          var options = {\r\n            enableHighAccuracy: true\r\n          };\r\n          this.diagnostic.getLocationMode()\r\n            .then((state) => {\r\n              if (state == this.diagnostic.locationMode.LOCATION_OFF) {\r\n                let confirm = this.alertCtrl.create({\r\n                  title: '<b>Chia sẻ Vị trí</b>',\r\n                  message: 'Vị trí (Location) trên điện thoại của bạn chưa được bật/chia sẻ. Hãy vào Cài đặt (Settings) để bật vị trí và chia sẻ thông tin (cấp quyền) vị trí cho ứng dụng này.',\r\n                  buttons: [\r\n                    {\r\n                      text: 'Vào Cài đặt (Settings)',\r\n                      handler: () => {\r\n                        this.diagnostic.switchToLocationSettings();\r\n\r\n                      }\r\n                    }\r\n                  ]\r\n                });\r\n                confirm.present();\r\n              }\r\n            }).catch(e => console.error(e));\r\n          this.geolocation.getCurrentPosition(options).then((resp) => {\r\n            this.qrData = text;\r\n            this.latitude = resp.coords.latitude;\r\n            this.longitude = resp.coords.longitude;\r\n            this.app.getRootNav().push(DetailPage, {seri: this.qrData, latitude: this.latitude, longitude: this.longitude});\r\n          });\r\n\r\n          this.started = false;\r\n          this.qrScanner.hide(); // hide camera preview\r\n          scanSub.unsubscribe(); // stop scanning\r\n        });\r\n\r\n         // show camera preview\r\n         //this.qrScanner.show();\r\n\r\n         // wait for user to scan something, then the observable callback will be called\r\n\r\n       } else if (status.denied) {\r\n         // camera permission was permanently denied\r\n         // you must use QRScanner.openSettings() method to guide the user to the settings page\r\n         // then they can grant the permission from there\r\n       } else {\r\n         // permission was denied, but not permanently. You can ask for permission again at a later time.\r\n       }\r\n    })\r\n    .catch((e: any) => console.log('Error is', e));\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/qrcode/qrcode.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { NgModule, ErrorHandler } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { IonicApp, IonicModule, IonicErrorHandler } from 'ionic-angular';\nimport { MyApp } from './app.component';\nimport { HttpModule } from '@angular/http';\n\nimport { EnterCodePage } from '../pages/enter_code/enter_code';\nimport { ContactPage } from '../pages/contact/contact';\nimport { QRCodePage } from '../pages/qrcode/qrcode';\nimport { TabsPage } from '../pages/tabs/tabs';\nimport { DetailPage } from '../pages/detail/detail';\n\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\n\nimport { QRScanner } from '@ionic-native/qr-scanner';\nimport { Geolocation } from '@ionic-native/geolocation';\nimport { Diagnostic } from '@ionic-native/diagnostic';\n\n@NgModule({\n  declarations: [\n    MyApp,\n    EnterCodePage,\n    ContactPage,\n    QRCodePage,\n    TabsPage,\n    DetailPage\n  ],\n  imports: [\n    BrowserModule,\n    IonicModule.forRoot(MyApp),\n    HttpModule\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    EnterCodePage,\n    ContactPage,\n    QRCodePage,\n    TabsPage,\n    DetailPage\n  ],\n  providers: [\n    StatusBar,\n    SplashScreen,\n    {provide: ErrorHandler, useClass: IonicErrorHandler},\n    QRScanner,\n    Geolocation,\n    Diagnostic\n  ]\n})\nexport class AppModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component } from '@angular/core';\nimport { Platform } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\n\nimport { TabsPage } from '../pages/tabs/tabs';\n\n@Component({\n  templateUrl: 'app.html'\n})\nexport class MyApp {\n  rootPage:any = TabsPage;\n\n  constructor(platform: Platform, statusBar: StatusBar, splashScreen: SplashScreen) {\n    platform.ready().then(() => {\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n      statusBar.styleDefault();\n      splashScreen.hide();\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts"],"sourceRoot":""}